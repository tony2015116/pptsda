<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Basic Usage • pptsda</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Basic Usage">
<meta property="og:description" content="pptsda">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<script src="../darkswitch.js"></script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pptsda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/basic-usage.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/basic-usage.html">Get started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://twitter.com/tonyituite" class="external-link">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/tony2015116/pptsda">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Basic Usage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tony2015116/pptsda/blob/HEAD/vignettes/basic-usage.Rmd"><code>vignettes/basic-usage.Rmd</code></a></small>
      <div class="hidden name"><code>basic-usage.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tony2015116/pptsda">pptsda</a></span><span class="op">)</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from /dev/flat_teaching.Rmd: do not edit by hand -->
<!-- 
Run this 'development' chunk

Store every call to library() that you need to run chunks line by line, as in a classical Rmd for analysis
-->
<!--

# Description of your package

This will fill the description of your package.
Fill and run the content of this chunk, before anything else. 

Note: when you will use other flat templates, this part will be in a separate file. Do not be surprised!
-->
<div class="section level2">
<h2 id="import_csv">import_csv<a class="anchor" aria-label="anchor" href="#import_csv"></a>
</h2>
<p>The <code><a href="../reference/import_csv.html">import_csv()</a></code> function allows efficient importing of
multiple CSV files into a single R data object. It takes a vector of
file paths as the main argument, with an optional parameter to specify
the package to use for reading CSVs. Valid options are “data.table”,
“vroom”, and “readr”. By default, data.table::fread is used for fast
parsing. The function handles checking for valid input, loading the
required package, looping through the files, reading each one with the
appropriate CSV reader, and combining the results into a data.table or
data.frame depending on the package used. This provides a convenient
wrapper for batch importing CSVs without needing to write a for loop
each time. To use it, supply a character vector of CSV file paths to the
file_list argument. An optional second argument can choose the CSV
reading package, with “data.table” being the default. The result is a
consolidated data object containing the contents of all CSVs. This
simplifies workflows that involve wrangling multiple CSV files into an
analysis-ready dataset in R. By abstracting away the loop boilerplate,
it allows the user to focus on the analytical tasks instead of data
import details.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="st">"C:/Users/Dell/Downloads/location301"</span>, pattern <span class="op">=</span> <span class="st">".csv"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_csv.html">import_csv</a></span><span class="op">(</span><span class="va">list_csv</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: data.table</span></span>
<span><span class="co">#&gt; Warning: package 'data.table' was built under R version 4.2.3</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="adg_get">adg_get<a class="anchor" aria-label="anchor" href="#adg_get"></a>
</h2>
<p>The <code><a href="../reference/adg_get.html">adg_get()</a></code> function is used to process raw pig feed
intake data to calculate average daily gain (ADG) and generate growth
curves. It takes the raw data frame as input, cleans invalid records in
multiple steps, runs robust regression to detect outliers, fits simple
linear models to estimate ADG over desired weight ranges, and produces
growth curve plots. The user can specify a weight range to segment the
ADG calculation via the my_break parameter. Outlier detection threshold
and output image save path can also be customized. After processing, it
returns ADG summary info and the analyzed dataset with outlier flags. To
use it, supply the raw data and optionally set parameters like my_break.
It handles data cleaning, analysis and plotting automatically. The
output contains ADG results that can be used for downstream modeling or
evaluation. This provides a streamlined workflow to go from raw feed
intake data to analyzed growth curves and ADG estimates in a single
function call.</p>
<!--
Here is an example on how to use the function.
This should be a reproducible and working example
-->
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"C:/Users/Dell/Downloads/ppt_test_data.xlsx"</span><span class="op">)</span></span>
<span><span class="va">adg_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adg_get.html">adg_get</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• There are no duplicate responders in different locations.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The removing of weight &lt; 15kg will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;">• Revoming records of missing will delete responders:  3 </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; • Deleted responders: </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  c("12360","12378","12438") </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in RANSAC Robust</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;"> - RANSAC Robust succeeded</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The outliers detected by model will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' begin_test_weight are less than or equal to 60kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' end_test_weight are more than or equal to 85kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in Simple Linear Regression</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;">• Calculate ADG using Simple Linear Regression succeeded!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dfi_get">dfi_get<a class="anchor" aria-label="anchor" href="#dfi_get"></a>
</h2>
<p>The <code><a href="../reference/dfi_get.html">dfi_get()</a></code> function processes raw pig feed intake
visit data to correct outliers and errors and calculate daily feed
intake (DFI). It takes the raw data and outputs from
<code><a href="../reference/adg_get.html">adg_get()</a></code> as input. It handles data cleaning by flagging
invalid visit data based on predefined rules. Errors are corrected by
redistributing feed intake to valid visits. Final DFI is calculated
after removing errors. The user can optionally specify a weight range to
match the DFI calculation to segmented ADG. Key outputs are DFI summary
info and the analyzed dataset. To use it, supply the raw data and
<code><a href="../reference/adg_get.html">adg_get()</a></code> outputs. It handles error detection, correction,
DFI calculation and matching to ADG segments automatically. The output
contains corrected DFI metrics ready for evaluation. This provides an
automated workflow to go from raw feed intake visit data to analyzed DFI
estimates matched to ADG weight segments in a single function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"C:/Users/Dell/Downloads/ppt_test_data.xlsx"</span><span class="op">)</span></span>
<span><span class="va">adg_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adg_get.html">adg_get</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• There are no duplicate responders in different locations.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The removing of weight &lt; 15kg will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;">• Revoming records of missing will delete responders:  3 </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; • Deleted responders: </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  c("12360","12378","12438") </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in RANSAC Robust</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;"> - RANSAC Robust succeeded</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The outliers detected by model will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' begin_test_weight are less than or equal to 60kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' end_test_weight are more than or equal to 85kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in Simple Linear Regression</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;">• Calculate ADG using Simple Linear Regression succeeded!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span></span></span>
<span><span class="va">dfi_get</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dfi_get.html">dfi_get</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, adg_about <span class="op">=</span> <span class="va">adg_res</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• There are no duplicate responders in different locations.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • Successfully generated the following 7 variables during the food intake correction process.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV:feed intake per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - OTV:occupation time per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FRV:feeding rate per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD:leading weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - LTD:leading time difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FWD:following weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FTD:following time difference.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #00BB00;">• Successfully generated 16 error types from 7 variables:</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV-lo; FIV-hi; FIV-0; OTV-lo; OTV-hi; FRV-hi-FIV-lo; FRV-hi-strict; FRV-hi; FRV-0; FRV-lo;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD-lo; LWD-hi; FWD-lo; FWD-hi; LTD-lo; FTD-lo.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span></span></span>
<span><span class="co">#&gt; Warning in stats::cor(x, use = use, method = method): the standard deviation is</span></span>
<span><span class="co">#&gt; zero</span></span>
<span><span class="co">#&gt; Warning: The correlation matrix has missing values. 21 columns were excluded</span></span>
<span><span class="co">#&gt; from the filter.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• Running model with equation: </span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span>dfi_right_part ~ otd_2 + otd_9 + fid_5 + fiv_hi_p + frv_hi_fiv_lo_p + frv_0_p + frv_lo_p + location + lm_slope + weight + (1 | responder)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fcr_get">fcr_get<a class="anchor" aria-label="anchor" href="#fcr_get"></a>
</h2>
<p>The <code><a href="../reference/fcr_get.html">fcr_get()</a></code> function computes feed conversion ratio
(FCR) by combining average daily gain (ADG) and daily feed intake (DFI)
data. It takes the output lists from <code><a href="../reference/adg_get.html">adg_get()</a></code> and
<code><a href="../reference/dfi_get.html">dfi_get()</a></code> as input, merges the ADG and DFI summary
dataframes by pig ID and location, calculates FCR as corrected DFI
divided by ADG slope, and optionally adjusts FCR for a specified weight
range. The output is an FCR dataframe with pig ID, location, FCR, and
adjusted FCR if weight range is provided. To use it, supply the
<code><a href="../reference/adg_get.html">adg_get()</a></code> and <code><a href="../reference/dfi_get.html">dfi_get()</a></code> result lists. It
handles merging the data, FCR calculation, and adjustment automatically.
This provides a streamlined workflow to go from raw feed intake data to
analyzed FCR estimates matched to ADG weight segments. The output FCR
metrics can then be used for evaluation and modeling of feed efficiency.
By combining ADG and DFI data, <code><a href="../reference/fcr_get.html">fcr_get()</a></code> enables easy
computation of the key FCR feed efficiency metric.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"C:/Users/Dell/Downloads/ppt_test_data.xlsx"</span><span class="op">)</span></span>
<span><span class="va">fcr_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcr_get.html">fcr_get</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, my_break <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• There are no duplicate responders in different locations.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The removing of weight &lt; 15kg will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;">• Revoming records of missing will delete responders:  3 </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; • Deleted responders: </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  c("12360","12378","12438") </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in RANSAC Robust</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;"> - RANSAC Robust succeeded</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The outliers detected by model will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' begin_test_weight are less than or equal to 60kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' end_test_weight are more than or equal to 85kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in Simple Linear Regression</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;">• Calculate ADG at 30~100kg weight range using Simple Linear Regression succeeded!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • Successfully generated the following 7 variables during the food intake correction process.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV:feed intake per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - OTV:occupation time per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FRV:feeding rate per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD:leading weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - LTD:leading time difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FWD:following weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FTD:following time difference.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #00BB00;">• Successfully generated 16 error types from 7 variables:</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV-lo; FIV-hi; FIV-0; OTV-lo; OTV-hi; FRV-hi-FIV-lo; FRV-hi-strict; FRV-hi; FRV-0; FRV-lo;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD-lo; LWD-hi; FWD-lo; FWD-hi; LTD-lo; FTD-lo.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span></span></span>
<span><span class="co">#&gt; Warning in stats::cor(x, use = use, method = method): the standard deviation is</span></span>
<span><span class="co">#&gt; zero</span></span>
<span><span class="co">#&gt; Warning: The correlation matrix has missing values. 23 columns were excluded</span></span>
<span><span class="co">#&gt; from the filter.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• Running model with equation: </span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span>dfi_right_part ~ otd_9 + otd_10 + fiv_hi_p + otv_hi_p + frv_lo_p + location + lm_slope + weight + (1 | responder)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fcr_summary">fcr_summary<a class="anchor" aria-label="anchor" href="#fcr_summary"></a>
</h2>
<p>The <code><a href="../reference/fcr_summary.html">fcr_summary()</a></code> function generates descriptive
statistics summaries for feed conversion ratio (FCR) data. It takes a
dataframe containing FCR, daily feed intake, average daily gain and
weight columns as input. After checking for required columns, it
processes the data by selecting relevant columns, dividing weight values
by 1000, and calculating summary statistics including count, mean, SD,
min, max, median and coefficient of variation. The output is a tidy
dataframe containing the statistics for each variable, formatted for
printing. To use it, supply a dataframe with FCR and related columns. It
handles subsetting, converting units and calculating statistics
automatically. This provides a convenient way to generate formatted
statistical summaries from FCR data for exploratory analysis and
reporting. The output overview of central tendency, dispersion and
ranges facilitates interpretation and communication of key feed
efficiency metrics.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"C:/Users/Dell/Downloads/ppt_test_data.xlsx"</span><span class="op">)</span></span>
<span><span class="va">fcr_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcr_get.html">fcr_get</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, my_break <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• There are no duplicate responders in different locations.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The removing of weight &lt; 15kg will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;">• Revoming records of missing will delete responders:  3 </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; • Deleted responders: </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  c("12360","12378","12438") </span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in RANSAC Robust</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;"> - RANSAC Robust succeeded</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • The outliers detected by model will not delete responder.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' begin_test_weight are less than or equal to 60kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • All responders' end_test_weight are more than or equal to 85kg.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BBBBBB;">• Check for errors and warnings in Simple Linear Regression</span></span></span>
<span><span class="co"><span style="color: #BBBBBB;">#&gt; </span><span style="color: #0000BB;"> - No errors encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt;  - No warnings encountered during processing.</span></span></span>
<span><span class="co"><span style="color: #0000BB;">#&gt; </span><span style="color: #00BB00;">• Calculate ADG at 30~100kg weight range using Simple Linear Regression succeeded!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; • Successfully generated the following 7 variables during the food intake correction process.</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV:feed intake per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - OTV:occupation time per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FRV:feeding rate per visit;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD:leading weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - LTD:leading time difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FWD:following weight difference;</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt;  - FTD:following time difference.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span><span style="color: #00BB00;">• Successfully generated 16 error types from 7 variables:</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt;  - FIV-lo; FIV-hi; FIV-0; OTV-lo; OTV-hi; FRV-hi-FIV-lo; FRV-hi-strict; FRV-hi; FRV-0; FRV-lo;</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span><span style="color: #BB0000;"> - LWD-lo; LWD-hi; FWD-lo; FWD-hi; LTD-lo; FTD-lo.</span></span></span>
<span><span class="co"><span style="color: #BB0000;">#&gt; </span></span></span>
<span><span class="co">#&gt; Warning in stats::cor(x, use = use, method = method): the standard deviation is</span></span>
<span><span class="co">#&gt; zero</span></span>
<span><span class="co">#&gt; Warning: The correlation matrix has missing values. 23 columns were excluded</span></span>
<span><span class="co">#&gt; from the filter.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">• Running model with equation: </span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span>dfi_right_part ~ otd_9 + otd_10 + fiv_hi_p + otv_hi_p + frv_lo_p + location + lm_slope + weight + (1 | responder)</span></span>
<span><span class="fu"><a href="../reference/fcr_summary.html">fcr_summary</a></span><span class="op">(</span><span class="va">fcr_res</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 7</span></span></span>
<span><span class="co">#&gt;   set                N min     max     median  `mean+/-sd`      cv    </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> min_weight_cut    87 28.00   38.75   31.00   31.59+/-2.02     6.40% </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> max_weight_cut    87 97.00   104.00  99.50   99.64+/-1.09     1.09% </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> lm_slope          87 969.64  1420.22 1183.53 1176.95+/-106.29 9.03% </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> test_days         87 60.00   87.00   70.00   71.87+/-6.71     9.34% </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> origin_dfi        87 1965.69 3530.22 2708.47 2713.90+/-351.45 12.95%</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> corrected_dfi     87 1980.91 3524.90 2709.17 2711.98+/-348.17 12.84%</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> fcr               87 1.85    2.74    2.33    2.30+/-0.20      8.80% </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> cor_fcr           87 1.84    2.73    2.31    2.30+/-0.20      8.69%</span></span></code></pre></div>
<p>The <code><a href="../reference/import_csv.html">import_csv()</a></code> function provides easy importing and
consolidation of multiple CSV files, handling the repetitive workflow of
loading raw data files. The <code><a href="../reference/adg_get.html">adg_get()</a></code> function then
processes the imported data to calculate average daily gain over desired
weight ranges, with data cleaning, outlier detection and growth curve
plotting. Building on <code><a href="../reference/adg_get.html">adg_get()</a></code>, <code><a href="../reference/dfi_get.html">dfi_get()</a></code>
focuses on visit feed intake data, correcting errors and computing daily
feed intake matched to ADG segments. Finally, <code><a href="../reference/fcr_get.html">fcr_get()</a></code>
combines the ADG and DFI results to efficiently compute the key feed
conversion ratio metric. Together these four functions provide a
streamlined workflow for analysis of pig feed efficiency from raw CSV
data to cleaned datasets, growth curves, ADG estimates, DFI calculations
and FCR metrics ready for downstream evaluation and modeling. By
encapsulating repetitive tasks like data import and cleaning, they allow
users to focus on analytical insights rather than coding details. The
output at each step can be customized based on analysis needs. These
interlocked functions enable easy end-to-end data wrangling and analysis
for pig feed intake data, facilitating efficient computation of ADG, DFI
and FCR feed efficiency indicators. That’s it ! This the end of the
documented story of our package.</p>
<!-- 

# Inflate your package

You're one inflate from paper to box.
Build your package from this very Rmd using `fusen::inflate()` 
-->
<!-- 
- Verify your `"DESCRIPTION"` file has been updated
- Verify your function is in `"R/"` directory
- Verify your test is in `"tests/testthat/"` directory
- Verify this Rmd appears in `"vignettes/"` directory 
-->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Guo Meng.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
